# Объектно-ориентированное проектирование
##(из книги Гради Буча)

## Пять признаков сложной системы

1. Сложные системы часто являются иерархическими и состоят из взаимозависимых подсистем, которые в свою очередь также могут быть 
разделены на подсистемы, и т. д., вплоть до самого низкого уровня.

2. Выбор, какие компоненты в данной системе считаются элементарными, относительно произволен и в большой степени оставляется на 
усмотрение исследователя. Низший уровень для одного наблюдателя может оказаться достаточно высоким для другого.

3. Внутрикомпонентная связь обычно сильнее, чем связь между компонентами. Это обстоятельство позволяет отделять «высокочастотные» 
взаимодействия внутри компонентов от «низкочастотной» динамики взаимодействия между компонентами.

4. Иерархические системы обычно состоят из **немногих типов** подсистем, по-разному скомбинированных и организованных.
Иными словами, разные сложные системы содержат одинаковые структурные части.

5. Любая работающая сложная система является результатом развития работавшей более простой системы... 
Сложная система, спроектированная «с нуля», никогда не заработает. Следует начинать с работающей простой системы.

## Элементы объектной модели

Главные (без любого из них модель не будет объектно-ориентированной):
- абстрагирование
- инкапсуляция
- модульность
- иерархия

Дополнительные (полезны, но не обязательны):
- типизация
- параллелизм
- сохраняемость

>**Принцип наименьшего удивления** - абстракция должна охватывать все поведение объекта, но не больше и не меньше, и не привносить сюрпризов или побочных эффектов, лежащих вне ее сферы применимости.

### Интерфейс и реализация

> По своей природе, класс - это генеральный контракт между абстракцией и всеми ее клиентами. Выразителем обязательств класса служит его интерфейс, причем в языках с сильной типизацией потенциальные нарушения контракта можно обнаружить уже на стадии компиляции.
         ------------------------------------------------------------------------------------------------------

> В книге Гради Буча во врезке о множественном наследовании говорится, что часто используется прием создания **примесей (mixin)**. Примеси позволяют строить классы с более сложным поведением, то есть каждая примесь представлчет собой какой-то **аспект** поведения данного класса. Данный **аспект** может проявляться и в другом классе, совсем не связанном с певрым. Это напоминает **интерфейсы** в языках без множественного наследования. То есть примеси, как и интерфейсы, представляют собой связь **can do**. То есть некий **контракт**, который класс способен выполнить.

### Критерии оценки качества классов и объектов

1. **Coupling** (связанность) - связь между модулями (классами). Она должна быть слабой, чтобы ее легко можно было разорвать или подменить
2. **Cohesion** (связность) - связь внутри модуля (класса). Она должна быть сильной, т.е. класс согласован и предназначен только для одной роли
3. **Sufficiency** (достаточность) - класс должен содержать все необходимое для **реализаци** и логичного и эффективного поведения
4. **Completeness** (полнота) - наличие в **интерфейсной** части класса всех характеристик абстракции.
5. **Primitiveness** (примитивность) - оперции, которым для реализации необходим доступ только к внутреннему представлению (реализации) абстракции. В примере с классом Set операция Add будет примитивной (эта операция будет работать непосредственно с лежащей в основе класса Set структурой данных), а операция добавления четырех элементов - нет, т.к. это можно реализовать через оперцию Add для одного элемента.

### Критерии для определения класса, в котором реализовать необходимый метод
1. **Повторная используемость.** Будет ли это поведение полезно более чем в одном контексте? 
2. **Сложность.** Насколько трудно реализовать такое поведение? 
3. **Применимость.** Насколько данное поведение характерно для класса, в который мы хотим включить поведение? 
4. **Знание реализации.** Надо ли для реализации данного поведения знать секреты класса? 
