# Domain Driven Design

## Aggregate Root

Aggregate Root является шаблоном в DDD. Он представляет собой кластер объектов предметной области, которые можно рассматривать 
как единое целое. Примером может быть заказ и его элементы (items), которые могут представлять собой отдельные объекты, но все это
может быть полезно трактовать как единый **агрегат**.

Один из объектов данного агрегата будет являться **Aggregate Root**. Любые ссылки из-за пределов агрегата должны идти только 
к **Aggregate Root**. Таким образом, **Aggregate Root** может обеспечить целостность агрегата в целом.

Агрегаты являются основным элементом передачи и хранения данных. При данной концепции агрегаты загружаются и сохраняются целиком. 
Транзакции не должны пересекать границы агрегатов. 

**Aggregate Root** можно рассматривать как entry point в иерархию объектов предметной области. 

## Aggregate Root, Event Sourcing and CQRS

**Aggregate Root** может быть абстрактным классом, содеражщим все необходимые методы для **Command, Query and Event Handling**. 
Каждый потомок данного класса может представлять собой отдельный кластер из предметной области и иметь методы, специфичные 
для данного контекста, но при использовании CQRS обращаться к методам базового класса для выполнения комманд (command),
запросов (query), хранения Events и отката до определенного состояния по этим Events.

Пример тут: http://danielwhittaker.me/2014/11/15/aggregate-root-cqrs-event-sourcing/
